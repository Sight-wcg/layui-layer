{"version":3,"file":"layer.umd.js","sources":["../src/layer.js"],"sourcesContent":["/**\n * layer\n * 通用 Web 弹出层组件\n */\n\nimport jQuery from 'jquery';\nimport './css/layer.css';\n\"use strict\";\n\nvar isLayui = window.layui && layui.define, $, win, ready = {\n  getPath: function(){\n    var jsPath = document.currentScript ? document.currentScript.src : function(){\n      var js = document.scripts\n      ,last = js.length - 1\n      ,src;\n      for(var i = last; i > 0; i--){\n        if(js[i].readyState === 'interactive'){\n          src = js[i].src;\n          break;\n        }\n      }\n      return src || js[last].src;\n    }()\n    ,GLOBAL = window.LAYUI_GLOBAL || {};\n    return GLOBAL.layer_dir || jsPath.substring(0, jsPath.lastIndexOf('/') + 1);\n  }(),\n  config: {\n    removeFocus: true\n  }, \n  end: {}, \n  events: {resize: {}}, \n  minStackIndex: 0,\n  minStackArr: [],\n  btn: ['&#x786E;&#x5B9A;', '&#x53D6;&#x6D88;'],\n\n  //五种原始层模式\n  type: ['dialog', 'page', 'iframe', 'loading', 'tips'],\n  \n  //获取节点的style属性值\n  getStyle: function(node, name){\n    var style = node.currentStyle ? node.currentStyle : window.getComputedStyle(node, null);\n    return style[style.getPropertyValue ? 'getPropertyValue' : 'getAttribute'](name);\n  },\n  \n  //载入 CSS 依赖\n  link: function(href, fn, cssname){\n    //未设置路径，则不主动加载css\n    if(!layer.path) return;\n    \n    var head = document.getElementsByTagName(\"head\")[0]\n    ,link = document.createElement('link');\n    \n    if(typeof fn === 'string') cssname = fn;\n    \n    var app = (cssname || href).replace(/\\.|\\//g, '');\n    var id = 'layuicss-'+ app\n    ,STATUS_NAME = 'creating'\n    ,timeout = 0;\n    \n    link.rel = 'stylesheet';\n    link.href = layer.path + href;\n    link.id = id;\n    \n    if(!document.getElementById(id)){\n      head.appendChild(link);\n    }\n\n    if(typeof fn !== 'function') return;\n\n    //轮询 css 是否加载完毕\n    (function poll(status) {\n      var delay = 100\n      ,getLinkElem = document.getElementById(id); //获取动态插入的 link 元素\n      \n      //如果轮询超过指定秒数，则视为请求文件失败或 css 文件不符合规范\n      if(++timeout > 10 * 1000 / delay){\n        return window.console && console.error(app +'.css: Invalid');\n      };\n      \n      //css 加载就绪\n      if(parseInt(ready.getStyle(getLinkElem, 'width')) === 1989){\n        //如果参数来自于初始轮询（即未加载就绪时的），则移除 link 标签状态\n        if(status === STATUS_NAME) getLinkElem.removeAttribute('lay-status');\n        //如果 link 标签的状态仍为「创建中」，则继续进入轮询，直到状态改变，则执行回调\n        getLinkElem.getAttribute('lay-status') === STATUS_NAME ? setTimeout(poll, delay) : fn();\n      } else {\n        getLinkElem.setAttribute('lay-status', STATUS_NAME);\n        setTimeout(function(){\n          poll(STATUS_NAME);\n        }, delay);\n      }\n\n      //parseInt(ready.getStyle(document.getElementById(id), 'width')) === 1989 ? fn() : setTimeout(poll, 1000);\n    }());\n\n  }\n};\n\n//默认内置方法。\nexport var layer = {\n  v: '2.8.0-rc.15',\n  ie: function(){ //ie 版本\n    var agent = navigator.userAgent.toLowerCase();\n    return (!!window.ActiveXObject || \"ActiveXObject\" in window) ? (\n      (agent.match(/msie\\s(\\d+)/) || [])[1] || '11' //由于 ie11 并没有 msie 的标识\n    ) : false;\n  }(),\n  index: (window.layer && window.layer.v) ? 100000 : 0,\n  path: ready.getPath,\n  config: function(options, fn){\n    options = options || {};\n    layer.cache = ready.config = $.extend({}, ready.config, options);\n    layer.path = ready.config.path || layer.path;\n    typeof options.extend === 'string' && (options.extend = [options.extend]);\n    \n    //如果设置了路径，则加载样式\n    if(ready.config.path) layer.ready();\n    \n    if(!options.extend) return this;\n    \n    //加载 css\n    isLayui \n      ? layui.addcss('modules/layer/' + options.extend)\n    : ready.link('css/' + options.extend);\n    \n    return this;\n  },\n\n  // 主体 CSS 等待事件\n  ready: function(callback){\n    var cssname = 'layer';\n    var ver = '';\n    var path = (isLayui ? 'modules/' : 'css/') + 'layer.css?v='+ layer.v + ver;\n    \n    isLayui ? (\n      layui['layui.all'] \n        ? (typeof callback === 'function' && callback()) \n      : layui.addcss(path, callback, cssname)\n    ) : ready.link(path, callback, cssname);\n\n    return this;\n  },\n  \n  //各种快捷引用\n  alert: function(content, options, yes){\n    var type = typeof options === 'function';\n    if(type) yes = options;\n    return layer.open($.extend({\n      content: content,\n      yes: yes\n    }, type ? {} : options));\n  }, \n  \n  confirm: function(content, options, yes, cancel){ \n    var type = typeof options === 'function';\n    if(type){\n      cancel = yes;\n      yes = options;\n    }\n    return layer.open($.extend({\n      content: content,\n      btn: ready.btn,\n      yes: yes,\n      btn2: cancel\n    }, type ? {} : options));\n  },\n  \n  msg: function(content, options, end){ //最常用提示层\n    var type = typeof options === 'function', rskin = ready.config.skin;\n    var skin = (rskin ? rskin + ' ' + rskin + '-msg' : '')||'layui-layer-msg';\n    var anim = doms.anim.length - 1;\n    if(type) end = options;\n    return layer.open($.extend({\n      content: content,\n      time: 3000,\n      shade: false,\n      skin: skin,\n      title: false,\n      closeBtn: false,\n      btn: false,\n      resize: false,\n      end: end,\n      removeFocus: false\n    }, (type && !ready.config.skin) ? {\n      skin: skin + ' layui-layer-hui',\n      anim: anim\n    } : function(){\n       options = options || {};\n       if(options.icon === -1 || options.icon === undefined && !ready.config.skin){\n         options.skin = skin + ' ' + (options.skin||'layui-layer-hui');\n       }\n       return options;\n    }()));  \n  },\n  \n  load: function(icon, options){\n    return layer.open($.extend({\n      type: 3,\n      icon: icon || 0,\n      resize: false,\n      shade: 0.01,\n      removeFocus: false\n    }, options));\n  }, \n  \n  tips: function(content, follow, options){\n    return layer.open($.extend({\n      type: 4,\n      content: [content, follow],\n      closeBtn: false,\n      time: 3000,\n      shade: false,\n      resize: false,\n      fixed: false,\n      maxWidth: 260,\n      removeFocus: false\n    }, options));\n  }\n};\n\nvar Class = function(setings){  \n  var that = this, creat = function(){\n    that.creat();\n  };\n  that.index = ++layer.index;\n  that.config.maxWidth = $(win).width() - 15*2; //初始最大宽度：当前屏幕宽，左右留 15px 边距\n  that.config = $.extend({}, that.config, ready.config, setings);\n  document.body ? creat() : setTimeout(function(){\n    creat();\n  }, 30);\n};\n\nClass.pt = Class.prototype;\n\n//缓存常用字符\nvar doms = ['layui-layer', '.layui-layer-title', '.layui-layer-main', '.layui-layer-dialog', 'layui-layer-iframe', 'layui-layer-content', 'layui-layer-btn', 'layui-layer-close'];\n\n// 内置动画类\ndoms.anim = {\n  // 旧版动画\n  0: 'layer-anim-00', \n  1: 'layer-anim-01', \n  2: 'layer-anim-02', \n  3: 'layer-anim-03', \n  4: 'layer-anim-04', \n  5: 'layer-anim-05', \n  6: 'layer-anim-06',\n\n  // 滑出方向\n  slideDown: 'layer-anim-slide-down',\n  slideLeft: 'layer-anim-slide-left',\n  slideUp: 'layer-anim-slide-up',\n  slideRight: 'layer-anim-slide-right'\n};\n\ndoms.SHADE = 'layui-layer-shade';\ndoms.MOVE = 'layui-layer-move';\n\n//默认配置\nClass.pt.config = {\n  type: 0,\n  shade: 0.3,\n  fixed: true,\n  move: doms[1],\n  title: '&#x4FE1;&#x606F;',\n  offset: 'auto',\n  area: 'auto',\n  closeBtn: 1,\n  time: 0, //0表示不自动关闭\n  zIndex: 19891014, \n  maxWidth: 360,\n  anim: 0,\n  isOutAnim: true, //退出动画\n  minStack: true, //最小化堆叠\n  icon: -1,\n  moveType: 1,\n  resize: true,\n  scrollbar: true, //是否允许浏览器滚动条\n  tips: 2\n};\n\n//容器\nClass.pt.vessel = function(conType, callback){\n  var that = this, times = that.index, config = that.config;\n  var zIndex = config.zIndex + times, titype = typeof config.title === 'object';\n  var ismax = config.maxmin && (config.type === 1 || config.type === 2);\n  var titleHTML = (config.title ? '<div class=\"layui-layer-title\" style=\"'+ (titype ? config.title[1] : '') +'\">' \n    + (titype ? config.title[0] : config.title) \n  + '</div>' : '');\n  \n  config.zIndex = zIndex;\n  callback([\n    // 遮罩\n    config.shade ? ('<div class=\"'+ doms.SHADE +'\" id=\"'+ doms.SHADE + times +'\" times=\"'+ times +'\" style=\"'+ ('z-index:'+ (zIndex-1) +'; ') +'\"></div>') : '',\n    \n    // 主体\n    '<div class=\"'+ doms[0] + (' layui-layer-'+ready.type[config.type]) + (((config.type == 0 || config.type == 2) && !config.shade) ? ' layui-layer-border' : '') + ' ' + (config.skin||'') +'\" id=\"'+ doms[0] + times +'\" type=\"'+ ready.type[config.type] +'\" times=\"'+ times +'\" showtime=\"'+ config.time +'\" conType=\"'+ (conType ? 'object' : 'string') +'\" style=\"z-index: '+ zIndex +'; width:'+ config.area[0] + ';height:' + config.area[1] + ';position:'+ (config.fixed ? 'fixed;' : 'absolute;') +'\">'\n      + (conType && config.type != 2 ? '' : titleHTML)\n\n      // 内容区\n      + '<div'+ (config.id ? ' id=\"'+ config.id +'\"' : '') +' class=\"layui-layer-content'+ ((config.type == 0 && config.icon !== -1) ? ' layui-layer-padding' : '') + (config.type == 3 ? ' layui-layer-loading'+config.icon : '') +'\">'\n        // 表情或图标\n        + function(){\n          var face = [\n            'layui-icon-tips',\n            'layui-icon-success',\n            'layui-icon-error',\n            'layui-icon-question',\n            'layui-icon-lock',\n            'layui-icon-face-cry',\n            'layui-icon-face-smile'\n          ];\n\n          var additFaceClass;\n\n          // 动画类\n          var animClass = 'layui-anim layui-anim-rotate layui-anim-loop';\n\n          // 信息框表情\n          if(config.type == 0 && config.icon !== -1){\n            // 加载（加载图标）\n            if(config.icon == 16){\n              additFaceClass = 'layui-icon layui-icon-loading '+ animClass;\n            }\n            return '<i class=\"layui-layer-face layui-icon '+ (\n              additFaceClass || face[config.icon] || face[0]\n            ) +'\"></i>';\n          }\n\n          // 加载层图标\n          if(config.type == 3){\n            var type = [\n              'layui-icon-loading', \n              'layui-icon-loading-1'\n            ];\n            // 风格 2\n            if(config.icon == 2){\n              return '<div class=\"layui-layer-loading-2 '+ animClass +'\"></div>';\n            }\n            return '<i class=\"layui-layer-loading-icon layui-icon '+ (\n              type[config.icon] || type[0]\n            )+' '+ animClass +'\"></i>'\n          }\n\n          return '';\n        }()\n        + (config.type == 1 && conType ? '' : (config.content||''))\n      + '</div>'\n\n      // 右上角按钮\n      + '<div class=\"layui-layer-setwin\">'+ function(){\n        var arr = [];\n\n        // 最小化、最大化\n        if(ismax){\n          arr.push('<span class=\"layui-layer-min\"></span>');\n          arr.push('<span class=\"layui-layer-max\"></span>');\n        }\n\n        // 关闭按钮\n        if(config.closeBtn){\n          arr.push('<span class=\"layui-icon layui-icon-close '+ [\n            doms[7], \n            doms[7] + (config.title ? config.closeBtn : (config.type == 4 ? '1' : '2'))\n          ].join(' ') +'\"></span>')\n        }\n\n        return arr.join('');\n      }() + '</div>'\n\n      // 底部按钮\n      + (config.btn ? function(){\n        var button = '';\n        typeof config.btn === 'string' && (config.btn = [config.btn]);\n        for(var i = 0, len = config.btn.length; i < len; i++){\n          button += '<a class=\"'+ doms[6] +''+ i +'\">'+ config.btn[i] +'</a>'\n        }\n        return '<div class=\"'+ doms[6] +' layui-layer-btn-'+ (config.btnAlign||'') +'\">'+ button +'</div>'\n      }() : '')\n      + (config.resize ? '<span class=\"layui-layer-resize\"></span>' : '')\n    + '</div>'\n  ], titleHTML, $('<div class=\"'+ doms.MOVE +'\" id=\"'+ doms.MOVE +'\"></div>'));\n  return that;\n};\n\n//创建骨架\nClass.pt.creat = function(){\n  var that = this\n  ,config = that.config\n  ,times = that.index, nodeIndex\n  ,content = config.content\n  ,conType = typeof content === 'object'\n  ,body = $('body');\n  \n  if(config.id && $('.'+ doms[0]).find('#'+ config.id)[0]) return;\n  if(config.removeFocus) {\n    document.activeElement.blur(); // 将原始的聚焦节点失焦\n  }\n\n  if(typeof config.area === 'string'){\n    config.area = config.area === 'auto' ? ['', ''] : [config.area, ''];\n  }\n  \n  //anim兼容旧版shift\n  if(config.shift){\n    config.anim = config.shift;\n  }\n  \n  if(layer.ie == 6){\n    config.fixed = false;\n  }\n  \n  switch(config.type){\n    case 0:\n      config.btn = ('btn' in config) ? config.btn : ready.btn[0];\n      layer.closeAll('dialog');\n    break;\n    case 2:\n      var content = config.content = conType ? config.content : [config.content||'', 'auto'];\n      config.content = '<iframe scrolling=\"'+ (config.content[1]||'auto') +'\" allowtransparency=\"true\" id=\"'+ doms[4] +''+ times +'\" name=\"'+ doms[4] +''+ times +'\" onload=\"this.className=\\'\\';\" class=\"layui-layer-load\" frameborder=\"0\" src=\"' + config.content[0] + '\"></iframe>';\n    break;\n    case 3:\n      delete config.title;\n      delete config.closeBtn;\n      config.icon === -1 && (config.icon === 0);\n      layer.closeAll('loading');\n    break;\n    case 4:\n      conType || (config.content = [config.content, 'body']);\n      config.follow = config.content[1];\n      config.content = config.content[0] + '<i class=\"layui-layer-TipsG\"></i>';\n      delete config.title;\n      config.tips = typeof config.tips === 'object' ? config.tips : [config.tips, true];\n      config.tipsMore || layer.closeAll('tips');\n    break;\n  }\n  \n  //建立容器\n  that.vessel(conType, function(html, titleHTML, moveElem){\n    body.append(html[0]);\n    conType ? function(){\n      (config.type == 2 || config.type == 4) ? function(){\n        $('body').append(html[1]);\n      }() : function(){\n        if(!content.parents('.'+doms[0])[0]){\n          content.data('display', content.css('display')).show().addClass('layui-layer-wrap').wrap(html[1]);\n          $('#'+ doms[0] + times).find('.'+doms[5]).before(titleHTML);\n        }\n      }();\n    }() : body.append(html[1]);\n    $('#'+ doms.MOVE)[0] || body.append(ready.moveElem = moveElem);\n    \n    that.layero = $('#'+ doms[0] + times);\n    that.shadeo = $('#'+ doms.SHADE + times);\n    \n    config.scrollbar || doms.html.css('overflow', 'hidden').attr('layer-full', times);\n  }).auto(times);\n  \n  //遮罩\n  that.shadeo.css({\n    'background-color': config.shade[1] || '#000'\n    ,'opacity': config.shade[0] || config.shade\n  });\n\n  config.type == 2 && layer.ie == 6 && that.layero.find('iframe').attr('src', content[0]);\n\n  //坐标自适应浏览器窗口尺寸\n  config.type == 4 ? that.tips() : function(){\n    that.offset()\n    //首次弹出时，若 css 尚未加载，则等待 css 加载完毕后，重新设定尺寸\n    parseInt(ready.getStyle(document.getElementById(doms.MOVE), 'z-index')) ||  function(){\n      that.layero.css('visibility', 'hidden');\n      layer.ready(function(){\n        that.offset();\n        that.layero.css('visibility', 'visible');\n      });\n    }();\n  }();\n  \n  // 若是固定定位，则跟随 resize 事件来自适应坐标\n  if(config.fixed){\n    if(!ready.events.resize[that.index]){\n      ready.events.resize[that.index] = function(){\n        that.resize();\n      };\n      // 此处 resize 事件不会一直叠加，当关闭弹层时会移除该事件\n      win.on('resize', ready.events.resize[that.index]);\n    }\n  }\n  \n  config.time <= 0 || setTimeout(function(){\n    layer.close(that.index);\n  }, config.time);\n  that.move().callback();\n  \n  // 为兼容 jQuery3.0 的 css 动画影响元素尺寸计算\n  if(doms.anim[config.anim]){\n    var animClass = 'layer-anim '+ doms.anim[config.anim];\n    that.layero.addClass(animClass).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(){\n      $(this).removeClass(animClass);\n    });\n  };\n  \n  // 记录关闭动画\n  if(config.isOutAnim){\n    that.layero.data({\n      isOutAnim: true,\n      anim: config.anim\n    });\n  }\n};\n\n// 当前实例的 resize 事件\nClass.pt.resize = function(){\n  var that = this;\n  var config = that.config;\n  \n  that.offset();\n  (/^\\d+%$/.test(config.area[0]) || /^\\d+%$/.test(config.area[1])) && that.auto(that.index);\n  config.type == 4 && that.tips();\n};\n\n//自适应\nClass.pt.auto = function(index){\n  var that = this, config = that.config, layero = $('#'+ doms[0] + index);\n  \n  if(config.area[0] === '' && config.maxWidth > 0){\n    //为了修复IE7下一个让人难以理解的bug\n    if(layer.ie && layer.ie < 8 && config.btn){\n      layero.width(layero.innerWidth());\n    }\n    layero.outerWidth() > config.maxWidth && layero.width(config.maxWidth);\n  }\n  \n  var area = [layero.innerWidth(), layero.innerHeight()]\n  ,titHeight = layero.find(doms[1]).outerHeight() || 0\n  ,btnHeight = layero.find('.'+doms[6]).outerHeight() || 0\n  ,setHeight = function(elem){\n    elem = layero.find(elem);\n    elem.height(area[1] - titHeight - btnHeight - 2*(parseFloat(elem.css('padding-top'))|0));\n  };\n\n  switch(config.type){\n    case 2: \n      setHeight('iframe');\n    break;\n    default:\n      if(config.area[1] === ''){\n        if(config.maxHeight > 0 && layero.outerHeight() > config.maxHeight){\n          area[1] = config.maxHeight;\n          setHeight('.'+doms[5]);\n        } else if(config.fixed && area[1] >= win.height()){\n          area[1] = win.height();\n          setHeight('.'+doms[5]);\n        }\n      } else {\n        setHeight('.'+doms[5]);\n      }\n    break;\n  };\n  \n  return that;\n};\n\n//计算坐标\nClass.pt.offset = function(){\n  var that = this, config = that.config, layero = that.layero;\n  var area = [layero.outerWidth(), layero.outerHeight()];\n  var type = typeof config.offset === 'object';\n  that.offsetTop = (win.height() - area[1])/2;\n  that.offsetLeft = (win.width() - area[0])/2;\n  \n  if(type){\n    that.offsetTop = config.offset[0];\n    that.offsetLeft = config.offset[1]||that.offsetLeft;\n  } else if(config.offset !== 'auto'){\n    \n    if(config.offset === 't'){ //上\n      that.offsetTop = 0;\n    } else if(config.offset === 'r'){ //右\n      that.offsetLeft = win.width() - area[0];\n    } else if(config.offset === 'b'){ //下\n      that.offsetTop = win.height() - area[1];\n    } else if(config.offset === 'l'){ //左\n      that.offsetLeft = 0;\n    } else if(config.offset === 'lt'){ //左上角\n      that.offsetTop = 0;\n      that.offsetLeft = 0;\n    } else if(config.offset === 'lb'){ //左下角\n      that.offsetTop = win.height() - area[1];\n      that.offsetLeft = 0;\n    } else if(config.offset === 'rt'){ //右上角\n      that.offsetTop = 0;\n      that.offsetLeft = win.width() - area[0];\n    } else if(config.offset === 'rb'){ //右下角\n      that.offsetTop = win.height() - area[1];\n      that.offsetLeft = win.width() - area[0];\n    } else {\n      that.offsetTop = config.offset;\n    }\n    \n  }\n \n  if(!config.fixed){\n    that.offsetTop = /%$/.test(that.offsetTop) ? \n      win.height()*parseFloat(that.offsetTop)/100\n    : parseFloat(that.offsetTop);\n    that.offsetLeft = /%$/.test(that.offsetLeft) ? \n      win.width()*parseFloat(that.offsetLeft)/100\n    : parseFloat(that.offsetLeft);\n    that.offsetTop += win.scrollTop();\n    that.offsetLeft += win.scrollLeft();\n  }\n  \n  // 最小化窗口时的自适应\n  if(layero.data('maxminStatus') === 'min'){\n    that.offsetTop = win.height() - (layero.find(doms[1]).outerHeight() || 0);\n    that.offsetLeft = layero.css('left');\n  }\n\n  // 设置坐标\n  layero.css({\n    top: that.offsetTop, \n    left: that.offsetLeft\n  });\n};\n\n//Tips\nClass.pt.tips = function(){\n  var that = this, config = that.config, layero = that.layero;\n  var layArea = [layero.outerWidth(), layero.outerHeight()], follow = $(config.follow);\n  if(!follow[0]) follow = $('body');\n  var goal = {\n    width: follow.outerWidth(),\n    height: follow.outerHeight(),\n    top: follow.offset().top,\n    left: follow.offset().left\n  }, tipsG = layero.find('.layui-layer-TipsG');\n  \n  var guide = config.tips[0];\n  config.tips[1] || tipsG.remove();\n  \n  goal.autoLeft = function(){\n    if(goal.left + layArea[0] - win.width() > 0){\n      goal.tipLeft = goal.left + goal.width - layArea[0];\n      tipsG.css({right: 12, left: 'auto'});\n    } else {\n      goal.tipLeft = goal.left;\n    };\n  };\n  \n  //辨别tips的方位\n  goal.where = [function(){ //上        \n    goal.autoLeft();\n    goal.tipTop = goal.top - layArea[1] - 10;\n    tipsG.removeClass('layui-layer-TipsB').addClass('layui-layer-TipsT').css('border-right-color', config.tips[1]);\n  }, function(){ //右\n    goal.tipLeft = goal.left + goal.width + 10;\n    goal.tipTop = goal.top;\n    tipsG.removeClass('layui-layer-TipsL').addClass('layui-layer-TipsR').css('border-bottom-color', config.tips[1]); \n  }, function(){ //下\n    goal.autoLeft();\n    goal.tipTop = goal.top + goal.height + 10;\n    tipsG.removeClass('layui-layer-TipsT').addClass('layui-layer-TipsB').css('border-right-color', config.tips[1]);\n  }, function(){ //左\n    goal.tipLeft = goal.left - layArea[0] - 10;\n    goal.tipTop = goal.top;\n    tipsG.removeClass('layui-layer-TipsR').addClass('layui-layer-TipsL').css('border-bottom-color', config.tips[1]);\n  }];\n  goal.where[guide-1]();\n  \n  /* 8*2为小三角形占据的空间 */\n  if(guide === 1){\n    goal.top - (win.scrollTop() + layArea[1] + 8*2) < 0 && goal.where[2]();\n  } else if(guide === 2){\n    win.width() - (goal.left + goal.width + layArea[0] + 8*2) > 0 || goal.where[3]()\n  } else if(guide === 3){\n    (goal.top - win.scrollTop() + goal.height + layArea[1] + 8*2) - win.height() > 0 && goal.where[0]();\n  } else if(guide === 4){\n     layArea[0] + 8*2 - goal.left > 0 && goal.where[1]()\n  }\n\n  layero.find('.'+doms[5]).css({\n    'background-color': config.tips[1], \n    'padding-right': (config.closeBtn ? '30px' : '')\n  });\n  layero.css({\n    left: goal.tipLeft - (config.fixed ? win.scrollLeft() : 0), \n    top: goal.tipTop  - (config.fixed ? win.scrollTop() : 0)\n  });\n}\n\n//拖拽层\nClass.pt.move = function(){\n  var that = this\n  ,config = that.config\n  ,_DOC = $(document)\n  ,layero = that.layero\n  ,DATA_NAME = ['LAY_MOVE_DICT', 'LAY_RESIZE_DICT']\n  ,moveElem = layero.find(config.move)\n  ,resizeElem = layero.find('.layui-layer-resize');\n  \n  //给指定元素添加拖动光标\n  if(config.move) moveElem.css('cursor', 'move');\n  \n  //按下拖动元素\n  moveElem.on('mousedown', function(e){\n    if (e.button) {return;} // 不是左键不处理\n    var othis = $(this)\n    ,dict = {};\n    \n    if(config.move){\n      dict.layero = layero;\n      dict.config = config;\n      dict.offset = [\n        e.clientX - parseFloat(layero.css('left'))\n        ,e.clientY - parseFloat(layero.css('top'))\n      ];\n      \n      othis.data(DATA_NAME[0], dict);\n      ready.eventMoveElem = othis;\n      ready.moveElem.css('cursor', 'move').show();\n    }\n    \n    e.preventDefault();\n  });\n  \n  //按下右下角拉伸\n  resizeElem.on('mousedown', function(e){\n    var othis = $(this)\n    ,dict = {};\n    \n    if(config.resize){\n      dict.layero = layero;\n      dict.config = config;\n      dict.offset = [e.clientX, e.clientY];\n      dict.index = that.index;\n      dict.area = [\n        layero.outerWidth()\n        ,layero.outerHeight()\n      ];\n      \n      othis.data(DATA_NAME[1], dict);\n      ready.eventResizeElem = othis;\n      ready.moveElem.css('cursor', 'se-resize').show();\n    }\n    \n    e.preventDefault();\n  });\n  \n  //拖动元素，避免多次调用实例造成事件叠加\n  if(ready.docEvent) return that;\n  _DOC.on('mousemove', function(e){\n    //拖拽移动\n    if(ready.eventMoveElem){\n      var dict = ready.eventMoveElem.data(DATA_NAME[0]) || {}\n      ,layero = dict.layero\n      ,config = dict.config;\n      \n      var X = e.clientX - dict.offset[0]\n      ,Y = e.clientY - dict.offset[1]\n      ,fixed = layero.css('position') === 'fixed';\n      \n      e.preventDefault();\n      \n      dict.stX = fixed ? 0 : win.scrollLeft();\n      dict.stY = fixed ? 0 : win.scrollTop();\n\n      //控制元素不被拖出窗口外\n      if(!config.moveOut){\n        var setRig = win.width() - layero.outerWidth() + dict.stX\n        ,setBot = win.height() - layero.outerHeight() + dict.stY;  \n        X < dict.stX && (X = dict.stX);\n        X > setRig && (X = setRig); \n        Y < dict.stY && (Y = dict.stY);\n        Y > setBot && (Y = setBot);\n      }\n      \n      //拖动时跟随鼠标位置\n      layero.css({\n        left: X\n        ,top: Y\n      });\n    }\n    \n    //Resize\n    if(ready.eventResizeElem){\n      var dict = ready.eventResizeElem.data(DATA_NAME[1]) || {}\n      ,config = dict.config;\n      \n      var X = e.clientX - dict.offset[0]\n      ,Y = e.clientY - dict.offset[1];\n      \n      e.preventDefault();\n      \n      //拉伸宽高\n      layer.style(dict.index, {\n        width: dict.area[0] + X\n        ,height: dict.area[1] + Y\n      });\n      \n      config.resizing && config.resizing(dict.layero);\n    }\n  }).on('mouseup', function(e){\n    if(ready.eventMoveElem){\n      var dict = ready.eventMoveElem.data(DATA_NAME[0]) || {}\n      ,config = dict.config;\n      \n      ready.eventMoveElem.removeData(DATA_NAME[0]);\n      delete ready.eventMoveElem;\n      ready.moveElem.hide();\n      config.moveEnd && config.moveEnd(dict.layero);\n    }\n    if(ready.eventResizeElem){\n      ready.eventResizeElem.removeData(DATA_NAME[1]);\n      delete ready.eventResizeElem;\n      ready.moveElem.hide();\n    }\n  });\n  \n  ready.docEvent = true; //已给 document 执行全局事件\n  return that;\n};\n\nClass.pt.callback = function(){\n  var that = this, layero = that.layero, config = that.config;\n  that.openLayer();\n  if(config.success){\n    if(config.type == 2){\n      layero.find('iframe').on('load', function(){\n        config.success(layero, that.index, that);\n      });\n    } else {\n      config.success(layero, that.index, that);\n    }\n  }\n  layer.ie == 6 && that.IE6(layero);\n  \n  //按钮\n  layero.find('.'+ doms[6]).children('a').on('click', function(){\n    var index = $(this).index();\n    if(index === 0){\n      if(config.yes){\n        config.yes(that.index, layero, that);\n      } else if(config['btn1']){\n        config['btn1'](that.index, layero, that);\n      } else {\n        layer.close(that.index);\n      }\n    } else {\n      var close = config['btn'+(index+1)] && config['btn'+(index+1)](that.index, layero, that);\n      close === false || layer.close(that.index);\n    }\n  });\n  \n  //取消\n  function cancel(){\n    var close = config.cancel && config.cancel(that.index, layero, that);\n    close === false || layer.close(that.index);\n  }\n  \n  //右上角关闭回调\n  layero.find('.'+ doms[7]).on('click', cancel);\n  \n  //点遮罩关闭\n  if(config.shadeClose){\n    that.shadeo.on('click', function(){\n      layer.close(that.index);\n    });\n  } \n  \n  //最小化\n  layero.find('.layui-layer-min').on('click', function(){\n    var min = config.min && config.min(layero, that.index, that);\n    min === false || layer.min(that.index, config);\n  });\n  \n  //全屏/还原\n  layero.find('.layui-layer-max').on('click', function(){\n    if($(this).hasClass('layui-layer-maxmin')){\n      layer.restore(that.index);\n      config.restore && config.restore(layero, that.index, that);\n    } else {\n      layer.full(that.index, config);\n      setTimeout(function(){\n        config.full && config.full(layero, that.index, that);\n      }, 100);\n    }\n  });\n\n  config.end && (ready.end[that.index] = config.end);\n};\n\n//for ie6 恢复select\nready.reselect = function(){\n  $.each($('select'), function(index , value){\n    var sthis = $(this);\n    if(!sthis.parents('.'+doms[0])[0]){\n      (sthis.attr('layer') == 1 && $('.'+doms[0]).length < 1) && sthis.removeAttr('layer').show(); \n    }\n    sthis = null;\n  });\n}; \n\nClass.pt.IE6 = function(layero){\n  //隐藏select\n  $('select').each(function(index , value){\n    var sthis = $(this);\n    if(!sthis.parents('.'+doms[0])[0]){\n      sthis.css('display') === 'none' || sthis.attr({'layer' : '1'}).hide();\n    }\n    sthis = null;\n  });\n};\n\n//需依赖原型的对外方法\nClass.pt.openLayer = function(){\n  var that = this;\n  \n  //置顶当前窗口\n  layer.zIndex = that.config.zIndex;\n  layer.setTop = function(layero){\n    var setZindex = function(){\n      layer.zIndex++;\n      layero.css('z-index', layer.zIndex + 1);\n    };\n    layer.zIndex = parseInt(layero[0].style.zIndex);\n    layero.on('mousedown', setZindex);\n    return layer.zIndex;\n  };\n};\n\n// 记录宽高坐标，用于还原\nready.record = function(layero){\n  if(!layero[0]) return window.console && console.error('index error');\n  var area = [\n    layero[0].style.width || layero.width(),\n    layero[0].style.height || layero.height(),\n    layero.position().top, \n    layero.position().left + parseFloat(layero.css('margin-left'))\n  ];\n  layero.find('.layui-layer-max').addClass('layui-layer-maxmin');\n  layero.attr({area: area});\n};\n\nready.rescollbar = function(index){\n  if(doms.html.attr('layer-full') == index){\n    if(doms.html[0].style.removeProperty){\n      doms.html[0].style.removeProperty('overflow');\n    } else {\n      doms.html[0].style.removeAttribute('overflow');\n    }\n    doms.html.removeAttr('layer-full');\n  }\n};\n\n/** 内置成员 */\n\nwindow.layer = layer;\n\n//获取子iframe的DOM\nlayer.getChildFrame = function(selector, index){\n  index = index || $('.'+doms[4]).attr('times');\n  return $('#'+ doms[0] + index).find('iframe').contents().find(selector);  \n};\n\n//得到当前iframe层的索引，子iframe时使用\nlayer.getFrameIndex = function(name){\n  return $('#'+ name).parents('.'+doms[4]).attr('times');\n};\n\n//iframe层自适应宽高\nlayer.iframeAuto = function(index){\n  if(!index) return;\n  var heg = layer.getChildFrame('html', index).outerHeight();\n  var layero = $('#'+ doms[0] + index);\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  layero.css({height: heg + titHeight + btnHeight});\n  layero.find('iframe').css({height: heg});\n};\n\n//重置iframe url\nlayer.iframeSrc = function(index, url){\n  $('#'+ doms[0] + index).find('iframe').attr('src', url);\n};\n\n// 设定层的样式\nlayer.style = function(index, options, limit){\n  var layero = $('#'+ doms[0] + index);\n  var contElem = layero.find('.layui-layer-content');\n  var type = layero.attr('type');\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  var minLeft = layero.attr('minLeft');\n  \n  // loading 和 tips 层不允许更改\n  if(type === ready.type[3] || type === ready.type[4]){\n    return;\n  }\n  \n  if(!limit){\n    if(parseFloat(options.width) <= 260){\n      options.width = 260;\n    };\n    \n    if(parseFloat(options.height) - titHeight - btnHeight <= 64){\n      options.height = 64 + titHeight + btnHeight;\n    };\n  }\n  layero.css(options);\n  btnHeight = layero.find('.'+doms[6]).outerHeight() || 0;\n  \n  if(type === ready.type[2]){\n    layero.find('iframe').css({\n      height: (typeof options.height === 'number' ? options.height : layero.height()) - titHeight - btnHeight\n    });\n  } else {\n    contElem.css({\n      height: (typeof options.height === 'number' ? options.height : layero.height()) - titHeight - btnHeight\n      - parseFloat(contElem.css('padding-top'))\n      - parseFloat(contElem.css('padding-bottom'))\n    })\n  }\n};\n\n// 最小化\nlayer.min = function(index, options){\n  options = options || {};\n\n  var layero = $('#'+ doms[0] + index);\n  var maxminStatus = layero.data('maxminStatus');\n\n  if(maxminStatus === 'min') return; // 当前的状态是否已经是最小化\n  if(maxminStatus === 'max') layer.restore(index); // 若当前为最大化，则先还原后再最小化\n\n  layero.data('maxminStatus', 'min');\n\n  var shadeo = $('#'+ doms.SHADE + index);\n  var titHeight = layero.find(doms[1]).outerHeight() || 0;\n  var minLeft = layero.attr('minLeft'); // 最小化时的横坐标\n  var hasMinLeft = typeof minLeft === 'string'; // 是否已经赋值过最小化坐标\n  var left = hasMinLeft ? minLeft : (181*ready.minStackIndex)+'px';\n  var position = layero.css('position');\n  var minWidth = 180; // 最小化时的宽度\n  var settings = {\n    width: minWidth\n    ,height: titHeight\n    ,position: 'fixed'\n    ,overflow: 'hidden'\n  };\n\n  ready.record(layero);  // 记录当前尺寸、坐标，用于还原\n\n  // 简易最小化补位\n  if(ready.minStackArr.length > 0){\n    left = ready.minStackArr[0];\n    ready.minStackArr.shift();\n  }\n\n  // left 是否超出边界\n  if(parseFloat(left) + minWidth  > win.width()){\n    left = win.width() - minWidth - function(){\n      ready.minStackArr.edgeIndex = ready.minStackArr.edgeIndex || 0;\n      return ready.minStackArr.edgeIndex += 3;\n    }();\n    if(left < 0) left = 0;\n  }\n  \n  // 是否堆叠在左下角\n  if(options.minStack){\n    settings.left = left;\n    settings.top = win.height() - titHeight;\n    hasMinLeft || ready.minStackIndex++; // 若未赋值过最小化坐标，则最小化操作索引自增\n    layero.attr('minLeft', left);\n  }\n  \n  layero.attr('position', position);\n  layer.style(index, settings, true);\n\n  layero.find('.layui-layer-min').hide();\n  layero.attr('type') === 'page' && layero.find(doms[4]).hide();\n  ready.rescollbar(index);\n\n  // 隐藏遮罩\n  shadeo.hide();\n};\n\n// 还原\nlayer.restore = function(index){\n  var layero = $('#'+ doms[0] + index);\n  var shadeo = $('#'+ doms.SHADE + index);\n  var area = layero.attr('area').split(',');\n  var type = layero.attr('type');\n\n  layero.removeData('maxminStatus'); // 移除最大最小状态\n  \n  // 恢复原来尺寸\n  layer.style(index, {\n    width: area[0], // 数值或百分比\n    height: area[1],\n    top: parseFloat(area[2]),\n    left: parseFloat(area[3]),\n    position: layero.attr('position'),\n    overflow: 'visible'\n  }, true);\n  \n  layero.find('.layui-layer-max').removeClass('layui-layer-maxmin');\n  layero.find('.layui-layer-min').show();\n  type === 'page' && layero.find(doms[4]).show();\n  ready.rescollbar(index);\n  \n  // 恢复遮罩\n  shadeo.show();\n  // ready.events.resize[index](); // ?\n};\n\n// 全屏（最大化）\nlayer.full = function(index){\n  var layero = $('#'+ doms[0] + index), timer;\n  var maxminStatus = layero.data('maxminStatus');\n\n  if(maxminStatus === 'max') return // 检查当前的状态是否已经是最大化\n  if(maxminStatus === 'min') layer.restore(index); // 若当前为最小化，则先还原后再最大化\n\n  layero.data('maxminStatus', 'max');\n  ready.record(layero); // 记录当前尺寸、坐标\n\n  if(!doms.html.attr('layer-full')){\n    doms.html.css('overflow','hidden').attr('layer-full', index);\n  }\n  clearTimeout(timer);\n  timer = setTimeout(function(){\n    var isfix = layero.css('position') === 'fixed';\n    layer.style(index, {\n      top: isfix ? 0 : win.scrollTop(),\n      left: isfix ? 0 : win.scrollLeft(),\n      width: '100%',\n      height: '100%'\n    }, true);\n    layero.find('.layui-layer-min').hide();\n  }, 100);\n};\n\n//改变title\nlayer.title = function(name, index){\n  var title = $('#'+ doms[0] + (index || layer.index)).find(doms[1]);\n  title.html(name);\n};\n\n//关闭 layer 总方法\nlayer.close = function(index, callback){\n  var layero = function(){\n    var closest = $('.'+ doms[0]).find('#'+ index).closest('.'+ doms[0]);\n    return closest[0] ? (\n      index = closest.attr('times')\n      ,closest\n    ) : $('#'+ doms[0] + index)\n  }();\n  var type = layero.attr('type');\n  var data = layero.data() || {};\n\n  // 关闭动画\n  var closeAnim = ({\n    slideDown: 'layer-anim-slide-down-out',\n    slideLeft: 'layer-anim-slide-left-out',\n    slideUp: 'layer-anim-slide-up-out',\n    slideRight: 'layer-anim-slide-right-out'\n  })[data.anim] || 'layer-anim-close';\n  \n  if(!layero[0]) return;\n  \n  var WRAP = 'layui-layer-wrap', remove = function(){\n    if(type === ready.type[1] && layero.attr('conType') === 'object'){\n      layero.children(':not(.'+ doms[5] +')').remove();\n      var wrap = layero.find('.'+WRAP);\n      for(var i = 0; i < 2; i++){\n        wrap.unwrap();\n      }\n      wrap.css('display', wrap.data('display')).removeClass(WRAP);\n    } else {\n      //低版本IE 回收 iframe\n      if(type === ready.type[2]){\n        try {\n          var iframe = $('#'+ doms[4] + index)[0];\n          iframe.contentWindow.document.write('');\n          iframe.contentWindow.close();\n          layero.find('.'+doms[5])[0].removeChild(iframe);\n        } catch(e){}\n      }\n      layero[0].innerHTML = '';\n      layero.remove();\n    }\n\n    typeof ready.end[index] === 'function' && ready.end[index]();\n    delete ready.end[index];\n    typeof callback === 'function' && callback();\n\n    // 移除 reisze 事件\n    if(ready.events.resize[index]){\n      win.off('resize', ready.events.resize[index]);\n      delete ready.events.resize[index];\n    }\n  };\n  \n  // 是否允许关闭动画\n  if(data.isOutAnim){\n    layero.addClass('layer-anim '+ closeAnim);\n  }\n  \n  $('#layui-layer-moves, #'+ doms.SHADE + index).remove();\n  layer.ie == 6 && ready.reselect();\n  ready.rescollbar(index); \n  \n  // 记住被关闭层的最小化堆叠坐标\n  if(typeof layero.attr('minLeft') === 'string'){\n    ready.minStackIndex--;\n    ready.minStackArr.push(layero.attr('minLeft'));\n  }\n  \n  if((layer.ie && layer.ie < 10) || !layero.data('isOutAnim')){\n    remove()\n  } else {\n    setTimeout(function(){\n      remove();\n    }, 200);\n  }\n};\n\n//关闭所有层\nlayer.closeAll = function(type, callback){\n  if(typeof type === 'function'){\n    callback = type;\n    type = null;\n  };\n  var domsElem = $('.'+doms[0]);\n  $.each(domsElem, function(_index){\n    var othis = $(this);\n    var is = type ? (othis.attr('type') === type) : 1;\n    is && layer.close(othis.attr('times'), _index === domsElem.length - 1 ? callback : null);\n    is = null;\n  });\n  if(domsElem.length === 0) typeof callback === 'function' && callback();\n};\n\n// 根据弹层类型关闭最近打开的层\nlayer.closeLast = function(type){\n  type = type || 'page';\n  layer.close($('.layui-layer-'+ type +':last').attr(\"times\"));\n};\n\n/** \n\n  拓展模块，layui 开始合并在一起\n\n */\n\nvar cache = layer.cache||{}, skin = function(type){\n  return (cache.skin ? (' ' + cache.skin + ' ' + cache.skin + '-'+type) : '');\n}; \n \n//仿系统prompt\nlayer.prompt = function(options, yes){\n  var style = '', placeholder = '';\n  options = options || {};\n  \n  if(typeof options === 'function') yes = options;\n  \n  if(options.area){\n    var area = options.area;\n    style = 'style=\"width: '+ area[0] +'; height: '+ area[1] + ';\"';\n    delete options.area;\n  }\n  if (options.placeholder) {\n    placeholder = ' placeholder=\"' + options.placeholder + '\"';\n  }\n  var prompt, content = options.formType == 2 ? '<textarea class=\"layui-layer-input\"' + style + placeholder + '></textarea>' : function () {\n    return '<input type=\"' + (options.formType == 1 ? 'password' : 'text') + '\" class=\"layui-layer-input\"' + placeholder + '>';\n  }();\n  \n  var success = options.success;\n  delete options.success;\n  \n  return layer.open($.extend({\n    type: 1\n    ,btn: ['&#x786E;&#x5B9A;','&#x53D6;&#x6D88;']\n    ,content: content\n    ,skin: 'layui-layer-prompt' + skin('prompt')\n    ,maxWidth: win.width()\n    ,success: function(layero){\n      prompt = layero.find('.layui-layer-input');\n      prompt.val(options.value || '').focus();\n      typeof success === 'function' && success(layero);\n    }\n    ,resize: false\n    ,yes: function(index){\n      var value = prompt.val();\n      if(value.length > (options.maxlength||500)) {\n        layer.tips('&#x6700;&#x591A;&#x8F93;&#x5165;'+ (options.maxlength || 500) +'&#x4E2A;&#x5B57;&#x6570;', prompt, {tips: 1});\n      } else {\n        yes && yes(value, index, prompt);\n      }\n    }\n  }, options));\n};\n\n//tab层\nlayer.tab = function(options){\n  options = options || {};\n  \n  var tab = options.tab || {}\n  ,THIS = 'layui-this'\n  ,success = options.success;\n  \n  delete options.success;\n  \n  return layer.open($.extend({\n    type: 1,\n    skin: 'layui-layer-tab' + skin('tab'),\n    resize: false,\n    title: function(){\n      var len = tab.length, ii = 1, str = '';\n      if(len > 0){\n        str = '<span class=\"'+ THIS +'\">'+ tab[0].title +'</span>';\n        for(; ii < len; ii++){\n          str += '<span>'+ tab[ii].title +'</span>';\n        }\n      }\n      return str;\n    }(),\n    content: '<ul class=\"layui-layer-tabmain\">'+ function(){\n      var len = tab.length, ii = 1, str = '';\n      if(len > 0){\n        str = '<li class=\"layui-layer-tabli '+ THIS +'\">'+ (tab[0].content || 'no content') +'</li>';\n        for(; ii < len; ii++){\n          str += '<li class=\"layui-layer-tabli\">'+ (tab[ii].content || 'no  content') +'</li>';\n        }\n      }\n      return str;\n    }() +'</ul>',\n    success: function(layero){\n      var btn = layero.find('.layui-layer-title').children();\n      var main = layero.find('.layui-layer-tabmain').children();\n      btn.on('mousedown', function(e){\n        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;\n        var othis = $(this), index = othis.index();\n        othis.addClass(THIS).siblings().removeClass(THIS);\n        main.eq(index).show().siblings().hide();\n        typeof options.change === 'function' && options.change(index);\n      });\n      typeof success === 'function' && success(layero);\n    }\n  }, options));\n};\n\n//相册层\nlayer.photos = function(options, loop, key){\n  var dict = {};\n  options = options || {};\n  if(!options.photos) return;\n  \n  //若 photos 并非选择器或 jQuery 对象，则为普通 object\n  var isObject = !(typeof options.photos === 'string' || options.photos instanceof $)\n  ,photos = isObject ? options.photos : {}\n  ,data = photos.data || []\n  ,start = photos.start || 0;\n  \n  dict.imgIndex = (start|0) + 1;\n  options.img = options.img || 'img';\n  \n  var success = options.success;\n  delete options.success;\n  \n  //如果 options.photos 不是一个对象\n  if(!isObject){ //页面直接获取\n    var parent = $(options.photos), pushData = function(){\n      data = [];\n      parent.find(options.img).each(function(index){\n        var othis = $(this);\n        othis.attr('layer-index', index);\n        data.push({\n          alt: othis.attr('alt'),\n          pid: othis.attr('layer-pid'),\n          src: othis.attr('lay-src') || othis.attr('layer-src') || othis.attr('src'),\n          thumb: othis.attr('src')\n        });\n      });\n    };\n    \n    pushData();\n    \n    if (data.length === 0) return;\n    \n    loop || parent.on('click', options.img, function(){\n      pushData();\n      var othis = $(this), index = othis.attr('layer-index'); \n      layer.photos($.extend(options, {\n        photos: {\n          start: index,\n          data: data,\n          tab: options.tab\n        },\n        full: options.full\n      }), true);\n    });\n    \n    //不直接弹出\n    if(!loop) return;\n    \n  } else if (data.length === 0){\n    return layer.msg('&#x6CA1;&#x6709;&#x56FE;&#x7247;');\n  }\n  \n  //上一张\n  dict.imgprev = function(key){\n    dict.imgIndex--;\n    if(dict.imgIndex < 1){\n      dict.imgIndex = data.length;\n    }\n    dict.tabimg(key);\n  };\n  \n  //下一张\n  dict.imgnext = function(key,errorMsg){\n    dict.imgIndex++;\n    if(dict.imgIndex > data.length){\n      dict.imgIndex = 1;\n      if (errorMsg) {return};\n    }\n    dict.tabimg(key)\n  };\n  \n  //方向键\n  dict.keyup = function(event){\n    if(!dict.end){\n      var code = event.keyCode;\n      event.preventDefault();\n      if(code === 37){\n        dict.imgprev(true);\n      } else if(code === 39) {\n        dict.imgnext(true);\n      } else if(code === 27) {\n        layer.close(dict.index);\n      }\n    }\n  }\n  \n  //切换\n  dict.tabimg = function(key){\n    if(data.length <= 1) return;\n    photos.start = dict.imgIndex - 1;\n    layer.close(dict.index);\n    return layer.photos(options, true, key);\n  }\n  \n  //一些动作\n  dict.event = function(){\n    /*\n    dict.bigimg.hover(function(){\n      dict.imgsee.show();\n    }, function(){\n      dict.imgsee.hide();\n    });\n    */\n    \n    dict.bigimg.find('.layui-layer-imgprev').on('click', function(event){\n      event.preventDefault();\n      dict.imgprev(true);\n    });  \n    \n    dict.bigimg.find('.layui-layer-imgnext').on('click', function(event){     \n      event.preventDefault();\n      dict.imgnext(true);\n    });\n    \n    $(document).on('keyup', dict.keyup);\n  };\n  \n  //图片预加载\n  function loadImage(url, callback, error) {   \n    var img = new Image();\n    img.src = url; \n    if(img.complete){\n      return callback(img);\n    }\n    img.onload = function(){\n      img.onload = null;\n      callback(img);\n    };\n    img.onerror = function(e){\n      img.onerror = null;\n      error(e);\n    };  \n  };\n  \n  dict.loadi = layer.load(1, {\n    shade: 'shade' in options ? false : 0.9,\n    scrollbar: false\n  });\n\n  loadImage(data[start].src, function(img){\n    layer.close(dict.loadi);\n    \n    var alt = data[start].alt || '';\n\n    //切换图片时不出现动画\n    if(key) options.anim = -1;\n    \n    //弹出图片层\n    dict.index = layer.open($.extend({\n      type: 1,\n      id: 'layui-layer-photos',\n      area: function(){\n        var imgarea = [img.width, img.height];\n        var winarea = [$(window).width() - 100, $(window).height() - 100];\n        \n        //如果 实际图片的宽或者高比 屏幕大（那么进行缩放）\n        if(!options.full && (imgarea[0]>winarea[0]||imgarea[1]>winarea[1])){\n          var wh = [imgarea[0]/winarea[0],imgarea[1]/winarea[1]];//取宽度缩放比例、高度缩放比例\n          if(wh[0] > wh[1]){//取缩放比例最大的进行缩放\n            imgarea[0] = imgarea[0]/wh[0];\n            imgarea[1] = imgarea[1]/wh[0];\n          } else if(wh[0] < wh[1]){\n            imgarea[0] = imgarea[0]/wh[1];\n            imgarea[1] = imgarea[1]/wh[1];\n          }\n        }\n        \n        return [imgarea[0]+'px', imgarea[1]+'px']; \n      }(),\n      title: false,\n      shade: 0.9,\n      shadeClose: true,\n      closeBtn: false,\n      move: '.layui-layer-phimg img',\n      moveType: 1,\n      scrollbar: false,\n      moveOut: true,\n      anim: 5,\n      isOutAnim: false,\n      skin: 'layui-layer-photos' + skin('photos'),\n      content: '<div class=\"layui-layer-phimg\">'\n        + '<img src=\"'+ data[start].src +'\" alt=\"'+ alt +'\" layer-pid=\"'+ data[start].pid +'\">'\n        + function(){\n          var arr = ['<div class=\"layui-layer-imgsee\">'];\n\n          // 左右箭头翻页\n          if(data.length > 1){\n            arr.push(['<div class=\"layui-layer-imguide\">'\n              ,'<span class=\"layui-icon layui-icon-left layui-layer-iconext layui-layer-imgprev\"></span>'\n              ,'<span class=\"layui-icon layui-icon-right layui-layer-iconext layui-layer-imgnext\"></span>'\n            ,'</div>'].join(''));\n          }\n\n          // 底部栏\n          if(!options.hideFooter){\n             arr.push(['<div class=\"layui-layer-imgbar\">'\n              ,'<div class=\"layui-layer-imgtit\">'\n                ,'<h3>'+ alt +'</h3>'\n                ,'<em>'+ dict.imgIndex +' / '+ data.length +'</em>'\n                ,'<a href=\"'+ data[start].src +'\" target=\"_blank\">查看原图</a>'\n              ,'</div>'\n            ,'</div>'].join(''));\n          }\n\n          arr.push('</div>');\n          return arr.join('');\n        }()\n      +'</div>',\n      success: function(layero, index){\n        dict.bigimg = layero.find('.layui-layer-phimg');\n        dict.imgsee = layero.find('.layui-layer-imgbar');\n        dict.event(layero);\n        options.tab && options.tab(data[start], layero);\n        typeof success === 'function' && success(layero);\n      }, end: function(){\n        dict.end = true;\n        $(document).off('keyup', dict.keyup);\n      }\n    }, options));\n  }, function(){\n    layer.close(dict.loadi);\n    layer.msg('&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;', {\n      time: 30000, \n      btn: ['&#x4E0B;&#x4E00;&#x5F20;', '&#x4E0D;&#x770B;&#x4E86;'], \n      yes: function(){\n        data.length > 1 && dict.imgnext(true,true);\n      }\n    });\n  });\n};\n\n//主入口\nready.run = function(_$){\n  $ = _$;\n  win = $(window);\n  doms.html = $('html');\n  layer.open = function(deliver){\n    var o = new Class(deliver);\n    return o.index;\n  };\n};\n\n//加载方式\nwindow.layui && layui.define ? (\n  layer.ready()\n  ,layui.define('jquery', function(exports){ //layui 加载\n    layer.path = layui.cache.dir;\n    ready.run(layui.$);\n\n    //暴露模块\n    window.layer = layer;\n    exports('layer', layer);\n  })\n) : (\n  (typeof define === 'function' && define.amd) ? define(['jquery'], function(){ //requirejs 加载\n    ready.run(jQuery);\n    return layer;\n  }) : function(){ //普通 script 标签加载\n    layer.ready();\n    ready.run(jQuery);\n  }()\n);\n\n\n"],"names":["isLayui","$","win","ready","jsPath","js","last","src","i","GLOBAL","node","name","style","href","fn","cssname","layer","head","link","app","id","STATUS_NAME","timeout","poll","status","delay","getLinkElem","agent","options","callback","ver","path","content","yes","type","cancel","end","rskin","skin","anim","doms","icon","follow","Class","setings","that","creat","conType","times","config","zIndex","titype","ismax","titleHTML","face","additFaceClass","animClass","arr","button","len","body","html","moveElem","index","layero","area","titHeight","btnHeight","setHeight","elem","layArea","goal","tipsG","guide","_DOC","DATA_NAME","resizeElem","e","othis","dict","X","Y","fixed","setRig","setBot","close","min","value","sthis","setZindex","selector","heg","url","limit","contElem","maxminStatus","shadeo","minLeft","hasMinLeft","left","position","minWidth","settings","timer","isfix","title","closest","data","closeAnim","WRAP","remove","wrap","iframe","domsElem","_index","is","cache","placeholder","prompt","success","tab","THIS","ii","str","btn","main","loop","key","isObject","photos","start","parent","pushData","errorMsg","event","code","loadImage","error","img","alt","imgarea","winarea","wh","_$","deliver","o","exports","jQuery"],"mappings":"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"}